<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>It's glow time</title>
</head>
<body>
    <h1>Helllo</h1>
    <form id="alarm-form" action="#" onsubmit="getData();return false">
        <input required="required" id="title" name="title" placeholder="Name of alarm" />
        <input required="required" id="time" type="time" name="time" />
        <input required="required" id="color" type="color" name="color"/>
        <button> Submit </button>
    </form>
</body>
<script>
    function getData(){
        let title = document.getElementById('title').value;
        let time = document.getElementById('time').value;
        let color = document.getElementById('color').value;
        // console.log(title)
        // console.log(time)
        // console.log(color)
        let red = parseInt(color.substring(1,3), 16);
        let green = parseInt(color.substring(3,5), 16);
        let blue = parseInt(color.substring(5,7), 16);
        // console.log([red,green,blue])
        let send = {
            "title": title,
            "time": time,
            "red": red,
            "green": green,
            "blue": blue
        }
        data = JSON.stringify(send)
        console.log(data)
        fetch('http://172.104.240.173/api/alarm-create', {
            method: 'POST',
            headers: {
                'Accept': 'application/json, text/plain, */*',
                'Content-Type': 'application/json'
            },
            body: data
        })
        .then(res => res.json())
        .then(res => console.log(res));
    console.log(send)
    }
</script>
</html>